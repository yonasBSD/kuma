import{d as T,r as u,p as v,o as d,w as n,b as a,m as $,A as j,c as p,e,L as c,M as y,N as L,q as _,l as o,t as s,S as O,n as E,_ as R}from"./index-C3gcfku-.js";const Z={key:0},q=T({__name:"ZoneDetailView",props:{data:{}},setup(C){const i=C;return(F,t)=>{const I=u("XAction"),k=u("XI18n"),X=u("XNotification"),f=u("XBadge"),V=u("XIcon"),z=u("XLayout"),w=u("XDl"),S=u("XAboutCard"),D=u("AppView"),x=u("DataSource"),A=u("RouteView");return d(),v(A,{name:"zone-cp-detail-view",params:{zone:"",subscription:""}},{default:n(({t:r,uri:B})=>[a(x,{src:B($(j),"/control-plane/outdated/:version",{version:i.data.zoneInsight.version?.kumaCp?.version??"-"})},{default:n(({data:g})=>[a(D,{docs:r("zones.href.docs.cta"),notifications:!0},{default:n(()=>[(d(!0),p(c,null,y([{bool:i.data.zoneInsight.store==="memory",key:"store-memory"},{bool:!i.data.zoneInsight.version?.kumaCp?.kumaCpGlobalCompatible,key:"global-cp-incompatible",params:{zoneCpVersion:i.data.zoneInsight.version?.kumaCp?.version??"-",globalCpVersion:g?.version??""}},{bool:(i.data.zoneInsight.connectedSubscription?.status.total.responsesRejected??0)>0,key:"global-nack-response"}],({bool:l,key:m,params:b})=>(d(),v(X,{key:m,notify:l,"data-testid":`warning-${m}`,uri:`zone-cps.notifications.${m}.${i.data.id}`},{default:n(()=>[a(k,{path:`zone-cps.notifications.${m}`,params:Object.fromEntries(Object.entries(b??{}))},L({_:2},[m==="global-nack-response"?{name:"link",fn:n(()=>[a(I,{"data-action":"",to:{name:"zone-cp-subscription-summary-view",params:{subscription:i.data.zoneInsight.connectedSubscription?.id}}},{default:n(()=>[...t[0]||(t[0]=[e(`
                  zone control plane summary
                `,-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["path","params"])]),_:2},1032,["notify","data-testid","uri"]))),128)),t[19]||(t[19]=e()),a(z,{"data-testid":"detail-view-details",type:"stack"},{default:n(()=>[a(S,{title:r("zone-cps.detail.about.title"),created:i.data.creationTime,modified:i.data.modificationTime,class:"about-section","data-testid":"zone-about-section"},{default:n(()=>[a(z,null,{default:n(()=>[a(w,{variant:"x-stack"},{default:n(()=>[o("div",null,[o("dt",null,s(r("http.api.property.status")),1),t[1]||(t[1]=e()),o("dd",null,[a(O,{status:i.data.state},null,8,["status"])])]),t[7]||(t[7]=e()),o("div",{class:E({version:!0,outdated:g?.outdated})},[o("dt",null,s(r("zone-cps.routes.item.version")),1),t[3]||(t[3]=e()),o("dd",null,[a(z,{type:"separated"},{default:n(()=>[a(f,{appearance:g?.outdated===!0?"warning":"decorative"},{default:n(()=>[e(s(i.data.zoneInsight.version?.kumaCp?.version??"â€”"),1)]),_:2},1032,["appearance"]),t[2]||(t[2]=e()),g?.outdated===!0?(d(),v(V,{key:0,name:"info"},{default:n(()=>[a(k,{path:"zone-cps.routes.item.version_warning"})]),_:1})):_("",!0)]),_:2},1024)])],2),t[8]||(t[8]=e()),o("div",null,[o("dt",null,s(r("http.api.property.type")),1),t[4]||(t[4]=e()),o("dd",null,[a(f,{appearance:"decorative"},{default:n(()=>[e(s(r(`common.product.environment.${i.data.zoneInsight.environment||"unknown"}`)),1)]),_:2},1024)])]),t[9]||(t[9]=e()),o("div",null,[o("dt",null,s(r("zone-cps.routes.item.authentication_type")),1),t[5]||(t[5]=e()),o("dd",null,[a(f,{appearance:"decorative"},{default:n(()=>[e(s(i.data.zoneInsight.authenticationType||r("common.not_applicable")),1)]),_:2},1024)])]),t[10]||(t[10]=e()),(d(!0),p(c,null,y([Object.entries(i.data.labels)],l=>(d(),p(c,{key:typeof l},[l.length>0?(d(),p("div",Z,[o("dt",null,s(r("services.routes.item.labels")),1),t[6]||(t[6]=e()),o("dd",null,[a(z,{variant:"separated",truncate:""},{default:n(()=>[(d(),p(c,null,y([/^(.+\.)?kuma\.io\//],m=>(d(),p(c,{key:typeof m},[(d(!0),p(c,null,y(l,([b,N])=>(d(),v(f,{key:b,appearance:m.test(b)?"info":"decorative"},{default:n(()=>[e(s(b)+":"+s(N),1)]),_:2},1032,["appearance"]))),128))],64))),64))]),_:2},1024)])])):_("",!0)],64))),128))]),_:2},1024),t[18]||(t[18]=e()),i.data.zoneInsight.subscriptions.length>0?(d(),v(z,{key:0,"data-testid":"about-zone-cp-subscriptions",class:"about-subsection"},{default:n(()=>[a(z,{type:"separated"},{default:n(()=>[o("h3",null,s(r("zone-cps.routes.item.subscriptions.title")),1),t[11]||(t[11]=e()),a(I,{"data-action":"",appearance:"anchor",to:{name:"zone-cp-subscriptions-list-view"}},{default:n(()=>[e(`
                    (`+s(r("zone-cps.routes.item.subscriptions.show-details"))+`)
                  `,1)]),_:2},1024)]),_:2},1024),t[17]||(t[17]=e()),(d(!0),p(c,null,y([i.data.zoneInsight.connectedSubscription],l=>(d(),p(c,{key:typeof l},[!l?.disconnectTime&&l?.connectTime?(d(),v(w,{key:0,variant:"x-stack"},{default:n(()=>[o("div",null,[o("dt",null,s(r("zone-cps.routes.item.subscriptions.connected")),1),t[12]||(t[12]=e()),o("dd",null,[a(f,{appearance:"neutral"},{default:n(()=>[e(s(r("common.formats.datetime",{value:Date.parse(l.connectTime)})),1)]),_:2},1024)])]),t[15]||(t[15]=e()),o("div",null,[o("dt",null,s(r("zone-cps.routes.item.subscriptions.instanceId")),1),t[13]||(t[13]=e()),o("dd",null,[a(f,{appearance:"info"},{default:n(()=>[e(s(l.zoneInstanceId),1)]),_:2},1024)])]),t[16]||(t[16]=e()),o("div",null,[o("dt",null,s(r("zone-cps.routes.item.subscriptions.version")),1),t[14]||(t[14]=e()),o("dd",null,[a(f,{appearance:"info"},{default:n(()=>[e(s(l.version?.kumaCp.version??r("common.unknown")),1)]),_:2},1024)])])]),_:2},1024)):(d(),v(k,{key:1,path:"zone-cps.routes.item.subscriptions.disconnected"}))],64))),128))]),_:2},1024)):_("",!0)]),_:2},1024)]),_:2},1032,["title","created","modified"])]),_:2},1024)]),_:2},1032,["docs"])]),_:2},1032,["src"])]),_:1})}}}),M=R(q,[["__scopeId","data-v-0928f738"]]);export{M as default};
