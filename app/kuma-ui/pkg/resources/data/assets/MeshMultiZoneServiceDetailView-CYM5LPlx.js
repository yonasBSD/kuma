import{d as q,r as d,p as f,o,w as a,b as r,e as l,l as u,c as i,t as c,L as m,M as g,q as T,m as b,$ as Q,K as $,N as j,Y as z,_ as K}from"./index-B8sBWiVp.js";const P={key:0},O=q({__name:"MeshMultiZoneServiceDetailView",props:{data:{}},setup(v){const y=v;return(Y,s)=>{const w=d("KumaPort"),h=d("XLayout"),C=d("XBadge"),B=d("XDl"),R=d("XAboutCard"),V=d("XCopyButton"),E=d("XAction"),F=d("DataCollection"),X=d("DataLoader"),M=d("XCard"),D=d("XSelect"),S=d("XCodeBlock"),L=d("AppView"),A=d("RouteView");return o(),f(A,{name:"mesh-multi-zone-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:a(({route:n,t:p,uri:N,me:k})=>[r(L,null,{default:a(()=>[r(h,{type:"stack"},{default:a(()=>[r(R,{title:p("services.mesh-multi-zone-service.about.title"),created:y.data.creationTime,modified:y.data.modificationTime,"data-testid":"mesh-multi-zone-service-about-section"},{default:a(()=>[r(B,{variant:"x-stack"},{default:a(()=>[u("div",null,[u("dt",null,c(p("http.api.property.ports")),1),s[0]||(s[0]=l()),u("dd",null,[y.data.spec.ports.length?(o(),f(h,{key:0,type:"separated",truncate:""},{default:a(()=>[(o(!0),i(m,null,g(y.data.spec.ports,t=>(o(),f(w,{key:t.port,port:{...t,targetPort:void 0}},null,8,["port"]))),128))]),_:1})):(o(),i(m,{key:1},[l(c(p("common.detail.none")),1)],64))])]),s[3]||(s[3]=l()),u("div",null,[u("dt",null,c(p("http.api.property.selector")),1),s[1]||(s[1]=l()),u("dd",null,[Object.keys(v.data.spec.selector.meshService.matchLabels??{}).length?(o(),f(h,{key:0,type:"separated",truncate:""},{default:a(()=>[(o(!0),i(m,null,g(v.data.spec.selector.meshService.matchLabels,(t,e)=>(o(),f(C,{key:`${e}:${t}`,appearance:"info"},{default:a(()=>[l(c(e)+":"+c(t),1)]),_:2},1024))),128))]),_:1})):(o(),i(m,{key:1},[l(c(p("common.detail.none")),1)],64))])]),s[4]||(s[4]=l()),(o(!0),i(m,null,g([Object.entries(y.data.labels)],t=>(o(),i(m,{key:typeof t},[t.length>0?(o(),i("div",P,[u("dt",null,c(p("services.routes.item.labels")),1),s[2]||(s[2]=l()),u("dd",null,[r(h,{variant:"separated",truncate:""},{default:a(()=>[(o(),i(m,null,g([/^(.+\.)?kuma\.io\//],e=>(o(),i(m,{key:typeof e},[(o(!0),i(m,null,g(t,([_,x])=>(o(),f(C,{key:_,appearance:e.test(_)?"info":"decorative"},{default:a(()=>[l(c(_)+":"+c(x),1)]),_:2},1032,["appearance"]))),128))],64))),64))]),_:2},1024)])])):T("",!0)],64))),128))]),_:2},1024)]),_:2},1032,["title","created","modified"]),s[8]||(s[8]=l()),r(M,null,{title:a(()=>[l(c(p("services.detail.hostnames.title")),1)]),default:a(()=>[s[6]||(s[6]=l()),r(X,{src:N(b(Q),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:n.params.mesh,serviceType:"meshmultizoneservices",serviceName:n.params.service}),variant:"list"},{default:a(({data:[t]})=>[r(F,{type:"hostnames",items:t.items},{default:a(()=>[r($,{type:"hostnames-collection","data-testid":"hostnames-collection",items:t.items,headers:[{...k.get("headers.hostname"),label:p("services.detail.hostnames.hostname"),key:"hostname"},{...k.get("headers.zones"),label:p("services.detail.hostnames.zone"),key:"zones"}],onResize:k.set},{hostname:a(({row:e})=>[u("b",null,[r(V,{text:e.hostname},null,8,["text"])])]),zones:a(({row:e})=>[r(h,{type:"separated"},{default:a(()=>[(o(!0),i(m,null,g(e.zones,(_,x)=>(o(),f(C,{key:x,appearance:"decorative"},{default:a(()=>[r(E,{to:{name:"zone-cp-detail-view",params:{zone:_.name}}},{default:a(()=>[l(c(_.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024),s[9]||(s[9]=l()),r(M,null,{default:a(()=>[r(h,null,{default:a(()=>[r(h,{type:"separated",justify:"end"},{default:a(()=>[(o(),i(m,null,g([["universal","k8s"]],t=>u("div",{key:typeof t},[r(D,{label:p("services.routes.item.format"),selected:n.params.environment,onChange:e=>{n.update({environment:e})},onVnodeBeforeMount:e=>e?.props?.selected&&t.includes(e.props.selected)&&e.props.selected!==n.params.environment&&n.update({environment:e.props.selected})},j({_:2},[g(t,e=>({name:`${e}-option`,fn:a(()=>[l(c(p(`services.routes.item.formats.${e}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),s[7]||(s[7]=l()),n.params.environment==="universal"?(o(),f(S,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:b(z).stringify(y.data.config),"is-searchable":"",query:n.params.codeSearch,"is-filter-mode":n.params.codeFilter,"is-reg-exp-mode":n.params.codeRegExp,onQueryChange:t=>n.update({codeSearch:t}),onFilterModeChange:t=>n.update({codeFilter:t}),onRegExpModeChange:t=>n.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(o(),f(X,{key:1,src:`/meshes/${y.data.mesh}/mesh-multi-zone-service/${y.data.id}/as/kubernetes`},{default:a(({data:[t]})=>[r(S,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:b(z).stringify(t),"is-searchable":"",query:n.params.codeSearch,"is-filter-mode":n.params.codeFilter,"is-reg-exp-mode":n.params.codeRegExp,onQueryChange:e=>n.update({codeSearch:e}),onFilterModeChange:e=>n.update({codeFilter:e}),onRegExpModeChange:e=>n.update({codeRegExp:e})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}}),I=K(O,[["__scopeId","data-v-9119fcf1"]]);export{I as default};
