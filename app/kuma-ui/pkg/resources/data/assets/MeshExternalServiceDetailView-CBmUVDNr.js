import{d as Q,r as l,p as C,o as r,w as t,b as n,e as s,c as p,q as x,l as c,t as i,L as f,M as v,m as X,$ as K,K as j,N as P,Y as B,_ as Y}from"./index-C3gcfku-.js";const $={key:0},I={key:1},O={key:2,class:"port"},G={key:3,class:"tls"},H={key:0},J=Q({__name:"MeshExternalServiceDetailView",props:{data:{}},setup(y){const m=y;return(U,e)=>{const h=l("XBadge"),z=l("XAction"),R=l("KumaPort"),_=l("XLayout"),S=l("XDl"),V=l("XAboutCard"),D=l("XCopyButton"),F=l("DataCollection"),M=l("DataLoader"),w=l("XCard"),A=l("XSelect"),E=l("XCodeBlock"),L=l("AppView"),N=l("RouteView");return r(),C(N,{name:"mesh-external-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:t(({route:o,can:q,t:u,uri:T,me:k})=>[n(L,null,{default:t(()=>[n(_,{type:"stack"},{default:t(()=>[n(V,{title:u("services.mesh-external-service.about.title"),created:m.data.creationTime,modified:m.data.modificationTime,"data-testid":"mesh-external-service-about-section"},{default:t(()=>[n(S,{variant:"x-stack"},{default:t(()=>[m.data.namespace.length>0?(r(),p("div",$,[c("dt",null,i(u("http.api.property.namespace")),1),e[0]||(e[0]=s()),c("dd",null,[n(h,{appearance:"decorative"},{default:t(()=>[s(i(m.data.namespace),1)]),_:1})])])):x("",!0),e[5]||(e[5]=s()),q("use zones")&&m.data.zone?(r(),p("div",I,[c("dt",null,i(u("http.api.property.zone")),1),e[1]||(e[1]=s()),c("dd",null,[n(z,{to:{name:"zone-cp-detail-view",params:{zone:m.data.zone}}},{default:t(()=>[n(h,{appearance:"decorative"},{default:t(()=>[s(i(m.data.zone),1)]),_:1})]),_:1},8,["to"])])])):x("",!0),e[6]||(e[6]=s()),y.data.spec.match?(r(),p("div",O,[c("dt",null,i(u("http.api.property.port")),1),e[2]||(e[2]=s()),c("dd",null,[n(R,{port:y.data.spec.match},null,8,["port"])])])):x("",!0),e[7]||(e[7]=s()),y.data.spec.match?(r(),p("div",G,[c("dt",null,i(u("http.api.property.tls")),1),e[3]||(e[3]=s()),c("dd",null,[n(h,{appearance:y.data.spec.tls?.enabled?"success":"neutral"},{default:t(()=>[s(i(y.data.spec.tls?.enabled?"Enabled":"Disabled"),1)]),_:1},8,["appearance"])])])):x("",!0),e[8]||(e[8]=s()),(r(!0),p(f,null,v([Object.entries(m.data.labels)],d=>(r(),p(f,{key:typeof d},[d.length>0?(r(),p("div",H,[c("dt",null,i(u("services.routes.item.labels")),1),e[4]||(e[4]=s()),c("dd",null,[n(_,{variant:"separated",truncate:""},{default:t(()=>[(r(),p(f,null,v([/^(.+\.)?kuma\.io\//],a=>(r(),p(f,{key:typeof a},[(r(!0),p(f,null,v(d,([g,b])=>(r(),C(h,{key:g,appearance:a.test(g)?"info":"decorative"},{default:t(()=>[s(i(g)+":"+i(b),1)]),_:2},1032,["appearance"]))),128))],64))),64))]),_:2},1024)])])):x("",!0)],64))),128))]),_:2},1024)]),_:2},1032,["title","created","modified"]),e[12]||(e[12]=s()),n(w,null,{title:t(()=>[s(i(u("services.detail.hostnames.title")),1)]),default:t(()=>[e[10]||(e[10]=s()),n(M,{src:T(X(K),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:o.params.mesh,serviceType:"meshexternalservices",serviceName:o.params.service}),variant:"list"},{default:t(({data:[d]})=>[n(F,{type:"hostnames",items:d.items},{default:t(()=>[n(j,{type:"hostnames-collection","data-testid":"hostnames-collection",items:d.items,headers:[{...k.get("headers.hostname"),label:u("services.detail.hostnames.hostname"),key:"hostname"},{...k.get("headers.zones"),label:u("services.detail.hostnames.zone"),key:"zones"}],onResize:k.set},{hostname:t(({row:a})=>[c("b",null,[n(D,{text:a.hostname},null,8,["text"])])]),zones:t(({row:a})=>[n(_,{type:"separated"},{default:t(()=>[(r(!0),p(f,null,v(a.zones,(g,b)=>(r(),C(h,{key:b,appearance:"decorative"},{default:t(()=>[n(z,{to:{name:"zone-cp-detail-view",params:{zone:g.name}}},{default:t(()=>[s(i(g.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024),e[13]||(e[13]=s()),n(w,null,{default:t(()=>[n(_,null,{default:t(()=>[n(_,{type:"separated",justify:"end"},{default:t(()=>[(r(),p(f,null,v([["universal","k8s"]],d=>c("div",{key:typeof d},[n(A,{label:u("services.routes.item.format"),selected:o.params.environment,onChange:a=>{o.update({environment:a})},onVnodeBeforeMount:a=>a?.props?.selected&&d.includes(a.props.selected)&&a.props.selected!==o.params.environment&&o.update({environment:a.props.selected})},P({_:2},[v(d,a=>({name:`${a}-option`,fn:t(()=>[s(i(u(`services.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),e[11]||(e[11]=s()),o.params.environment==="universal"?(r(),C(E,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:X(B).stringify(m.data.config),"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:d=>o.update({codeSearch:d}),onFilterModeChange:d=>o.update({codeFilter:d}),onRegExpModeChange:d=>o.update({codeRegExp:d})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(r(),C(M,{key:1,src:`/meshes/${m.data.mesh}/mesh-external-service/${m.data.id}/as/kubernetes`},{default:t(({data:[d]})=>[n(E,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:X(B).stringify(d),"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:a=>o.update({codeSearch:a}),onFilterModeChange:a=>o.update({codeFilter:a}),onRegExpModeChange:a=>o.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}}),Z=Y(J,[["__scopeId","data-v-0a747dad"]]);export{Z as default};
